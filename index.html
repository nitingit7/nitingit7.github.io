<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice King</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="module">
        import { inject } from 'https://cdn.jsdelivr.net/npm/@vercel/analytics/+esm';
        inject();
    </script>
    <script>
        import { injectSpeedInsights } from 'https://cdn.jsdelivr.net/npm/@vercel/speed-insights/+esm';
        injectSpeedInsights();
    </script> 
</head>
<body>
    <div class="theme-switch-wrapper">
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" onclick="toggleTheme(event)">
            <div class="slider-round"></div>
        </label>
    </div>

    <div class="container main-dashboard">
        <div class="header-section">
            <div class="title-wrapper">
                <h2 class="app-title">Practice King</h2>
                <span class="beta-badge">BETA</span>
            </div>
            <p class="subtitle">Select a subject to begin your practice.</p>
        </div>
        
        <div class="dashboard-grid">
            
            <div class="subject-card card-quant" onclick="location.href='list.html?subject=quant'">
                <div class="card-content">
                    <div class="icon-box">ðŸ“Š</div> 
                    <div class="text-group">
                        <strong>Quantitative Aptitude</strong>
                    </div>
                </div> 
                <div class="arrow-icon">âžœ</div>
            </div>
            
            <div class="subject-card card-reasoning" onclick="location.href='list.html?subject=reasoning'">
                <div class="card-content">
                    <div class="icon-box">ðŸ§©</div> 
                    <div class="text-group">
                        <strong>Reasoning Ability</strong>
                    </div>
                </div> 
                <div class="arrow-icon">âžœ</div>
            </div>
            
            <div class="subject-card card-english" onclick="location.href='list.html?subject=english'">
                <div class="card-content">
                    <div class="icon-box">ðŸ“–</div> 
                    <div class="text-group">
                        <strong>English Language</strong>
                    </div>
                </div> 
                <div class="arrow-icon">âžœ</div>
            </div>

        </div>

        <div class="footer-tip">
            <p>ðŸ’¡ <strong>Pro Tip:</strong> Toggle the switch top-right for Dark Mode!</p>
        </div>
    </div>

    <script>
        function toggleTheme(event) {
            var chk = document.getElementById('checkbox');
            var isDark = chk.checked; 
            
            if (!document.startViewTransition) {
                applyTheme(isDark);
                return;
            }

            var x = event.clientX;
            var y = event.clientY;
            var endRadius = Math.hypot(Math.max(x, window.innerWidth - x), Math.max(y, window.innerHeight - y));

            var transition = document.startViewTransition(() => {
                applyTheme(isDark);
            });

            transition.ready.then(() => {
                var clipPath = [`circle(0px at ${x}px ${y}px)`, `circle(${endRadius}px at ${x}px ${y}px)`];
                document.documentElement.animate(
                    { clipPath: clipPath },
                    { duration: 500, easing: 'ease-in', pseudoElement: '::view-transition-new(root)' }
                );
            });
        }

        function applyTheme(isDark) {
            if(isDark) {
                document.body.classList.add('dark-mode');
                localStorage.setItem('site-theme', 'dark');
            } else {
                document.body.classList.remove('dark-mode');
                localStorage.setItem('site-theme', 'light');
            }
        }

        (function() {
            var savedTheme = localStorage.getItem('site-theme');
            var chk = document.getElementById('checkbox');
            if(savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                if(chk) chk.checked = true; 
            }
        })();
    </script>
</body>
</html>
