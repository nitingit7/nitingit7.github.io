<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice King</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <button id="theme-toggle-btn" class="theme-btn" onclick="toggleTheme()">ğŸŒ™ Dark Mode</button>
    <div class="container">
        <h2 style="color: var(--dark); margin-bottom: 30px;">Practice King(Beta)</h2>
        
        <div class="subject-card" onclick="location.href='list.html?subject=quant'">
            <div style="display:flex; align-items:center;">
                <span class="icon">ğŸ“Š</span> <div><strong>Quantitative Aptitude</strong></div>
            </div> <span>âœ</span>
        </div>
        
        <div class="subject-card" onclick="location.href='list.html?subject=reasoning'">
            <div style="display:flex; align-items:center;">
                <span class="icon">ğŸ§©</span> <div><strong>Reasoning Ability</strong></div>
            </div> <span>âœ</span>
        </div>
        
        <div class="subject-card" onclick="location.href='list.html?subject=english'">
            <div style="display:flex; align-items:center;">
                <span class="icon">ğŸ“–</span> <div><strong>English Language</strong></div>
            </div> <span>âœ</span>
        </div>

        <div style="margin-top: 40px; text-align: center; color: #888; font-size: 0.85rem;">
            ğŸ’¡ Tip: <strong>Refresh the page often</strong> to see new tests!
        </div>
    </div>
    <script>
        // 1. Define the Toggle Function
        function toggleTheme() {
        // Toggle the class on the body
        var isDark = document.body.classList.toggle('dark-mode');
        
        // Save the user's preference to browser memory
        localStorage.setItem('site-theme', isDark ? 'dark' : 'light');
        
        // Update the button text immediately
        var btn = document.getElementById('theme-toggle-btn');
        if(btn) {
            btn.innerText = isDark ? "â˜€ï¸ Light Mode" : "ğŸŒ™ Dark Mode";
        }
    }

    // 2. Apply Theme on Load (Runs instantly when page opens)
    (function() {
        var savedTheme = localStorage.getItem('site-theme');
        var btn = document.getElementById('theme-toggle-btn');
        
        if(savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            if(btn) btn.innerText = "â˜€ï¸ Light Mode";
        }
    })();

    // FIX: Force reload when coming back from the test using Browser Back Button
    window.onpageshow = function(event) {
        // If the page is loaded from the cache (history navigation)
        if (event.persisted) {
            window.location.reload();
        }
    };
</script>
</body>
</html>
